<!doctype html>
<html>
  <head>
    <meta name="asq-elements" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>asq-diagram-q | Demo</title>

    <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      window.Polymer = {
        dom: 'shadow',
        lazyRegister: true
      };
    </script>

    <link href="../asq-diagram-q.html" rel="import">


    <style is="custom-style">

      asq-diagram-q {
        display: block;
        margin-bottom: 1em;
      }

      body div {
        /*margin-left: 100px;*/
      }

    </style>

  </head>
  <body unresolved>

    <div>
      <h1>BPMN Demo</h1>

      <asq-diagram-q id="bpmn-demo-viewer" uid="" name="diagram0" type="bpmn" width="600" height="400">
        <asq-stem>This is the VIEWER</asq-stem>
      </asq-diagram-q>

      <asq-diagram-q id="bpmn-demo-presenter" uid="" name="diagram1" type="bpmn" role="presenter" width="600" height="400">
        <asq-stem>This is the PRESENTER</asq-stem>
      </asq-diagram-q>

      <hr>

      <h1>UML Demo</h1>

      <asq-diagram-q id="uml-demo-viewer" uid="" name="diagram2" type="uml" width="600" height="400">
        <asq-stem>This is the VIEWER</asq-stem>
      </asq-diagram-q>

      <asq-diagram-q id="uml-demo-presenter" uid="" name="diagram3" type="uml" role="presenter" width="600" height="400">
        <asq-stem>This is the PRESENTER</asq-stem>
      </asq-diagram-q>

      <hr>

      <h1>ERD Demo</h1>

      <asq-diagram-q id="erd-demo-viewer" uid="" name="diagram4" type="erd" width="600" height="400">
        <asq-stem>This is the VIEWER</asq-stem>
      </asq-diagram-q>

      <asq-diagram-q id="erd-demo-presenter" uid="" name="diagram5" type="erd" role="presenter" width="600" height="400">
        <asq-stem>This is the PRESENTER</asq-stem>
      </asq-diagram-q>

    </div>

    <script>

      var bmpnDiagram = {
        states: [
          {
            state: {
              position: {x: 20, y: 20},
              size: { height:300, width:200},
              attrs: {
                '.myClass .lane-body': {
                  fill: 'yellow',
                  'fill-opacity': 0.2
                },
                '.header': {
                  fill: '#16A',
                  'fill-opacity': 0.3
                },
                '.lane-header': {
                  fill: '#16A',
                  'fill-opacity': 0.1
                },
                '.blackbox-label': {
                  visibility: 'hidden'
                }
              },
              lanes: {
                label: 'pool', sublanes: [
                  { label: 'lane 1', name: 'myClass' },
                  { label: 'lane 2', sublanes: [
                      { label: 'sublane 1' },
                      { label: 'sublane 2' }
                    ]}
                ]
              }
            },
            id: "43358f93-a36c-4218-8a37-eb0826cc6923",
            type: 'Pool'
          },
          {
            state: {
              position: {x: 220, y: 50},
              name: 'Gateway1',
              type: 'inclusive'
            },
            id: "43358f93-a36c-4218-8a37-eb0826cc6991",
            type: 'Gateway'
          },
          {
            state: {
              position: {x: 410, y: 110},
              content: 'This is some example content.',
              icon : "send message",
              type : "transaction",
              subProcess: true
            },
            id: "0b49c377-ead1-46c1-963a-118509aeea29",
            type: 'Activity'
          },
          {
            state: {
              position: {x: 260, y: 300},
              name: 'Event1',
              type: 'end',
              subtype: 'message',
              color:'black'
            },
            id: "0d99f134-59f0-44e4-890a-1561e87d635d",
            type: 'Event'
          },
          {
            state: {
              position: {x: 380, y: 250},
              content: 'Some other content',
            },
            id: "43358f93-a36c-4218-8a37-eb0826cc6993",
            type: 'Annotation'
          }],
        relations: [
          {
            relation : {
              source : { id: '0d99f134-59f0-44e4-890a-1561e87d635d' },
              target : { id: '0b49c377-ead1-46c1-963a-118509aeea29' }
            },
            type: 'normal',
            label: 'FlowLabel',
            vertices: [{x: 350, y: 220}]
          }
        ],
        type: 'bpmn'
      };
      var umlDiagram = {
        states: [
          {
            state: {
              size: { height: 78, width: 210 },
              position: { y: 100, x: 220 },
              methods: [ '+ setDateOfBirth(dob: Date): Void', '+ getAgeAsDays(): Numeric' ],
              attributes: [ 'dob: Date' ],
              name: 'Mammal'
            },
            id: '9b2210b8-8d3c-41ba-859e-41c778dac925',
            type: 'interface'
          },
          {
            state: {
              size: { height: 90, width: 276.6038818359375 },
              position: { y: 300, x: 280 },
              methods: [ '+ setName(first: String, last: String): Void', '+ getName(): String' ],
              attributes: [ 'firstName: String', 'lastName: String' ],
              name: 'Person'
            },
            id: '7cb721fa-bad0-40e7-9140-03c64aa253bd',
            type: 'abstract'
          }],
        relations: [
          {
            relation : {
              source : { id: '7cb721fa-bad0-40e7-9140-03c64aa253bd' },
              target : { id: '9b2210b8-8d3c-41ba-859e-41c778dac925' }
            },
            type: 'implementation',
            vertices: [{x: 420, y: 240}]
          }
        ],
        type: 'uml'
      };
      var umlDiagram2 = {
        states: [
          {
            state: {
              size: { height: 78, width: 207.952911376953125 },
              position: { y: 30, x: 140 },
              methods: [ '+ setDateOfBirth(dob: Date): Void', '+ getAgeAsDays(): Numeric','+ getsomething(): string' ],
              attributes: [ 'dob: Date','dob: Date2','dob: Date3' ],
              name: 'Mammal1'
            },
            id: '9b2210b8-8d3c-41ba-859e-41c778dac925',
            type: 'interface'
          },
          {
            state: {
              size: { height: 90, width: 280 },
              position: { y: 270, x: 310 },
              methods: [ '+ setName(first: String, last: String): Void', '+ getName(): String' ],
              attributes: [ 'firstName: String', 'lastName: String', 'middleName: String' ],
              name: 'Abstract'
            },
            id: '7cb721fa-bad0-40e7-9140-03c64aa253bd',
            type: 'abstract'
          }],
        relations: [
          {
            relation : {
              source : { id: '7cb721fa-bad0-40e7-9140-03c64aa253bd' },
              target : { id: '9b2210b8-8d3c-41ba-859e-41c778dac925' }
            },
            type: 'implementation',
            vertices: [{x: 320, y: 240}, {x: 450, y: 220}]
          }
        ],
        type: 'uml'
      };
      var erdDiagram = {
        states: [
          {
            label: 'MyEntity',
            id : '16350733-7c63-4d0b-ad26-292c1c6f8206',
            state : {
              position: { x:300  , y: 80 }
            },
            type: 'Entity'
          },
          {
            label: 'MyAttribute',
            id : 'cbb50624-4572-4321-a31f-7ae3b21ce6fb',
            state : {
              position: { x: 490, y: 340 },
            },
            type: 'Key'
          },
        ],
        relations: [
          {
            labels : { sLabel: 'sourceLabel', tLabel: 'targetLabel'},
            relation : {
              source : { id: 'cbb50624-4572-4321-a31f-7ae3b21ce6fb' },
              target : { id: '16350733-7c63-4d0b-ad26-292c1c6f8206' }
            },
            vertices: [ {x: 540, y: 220} ]
          }
        ],
        type: 'erd'
      };

      document.addEventListener('WebComponentsReady', function (evt) {

        /* BPMN */
        var bpmn_viewer = document.getElementById('bpmn-demo-viewer');
        var bpmn_presenter = document.getElementById('bpmn-demo-presenter');
        bpmn_viewer.value = bmpnDiagram;
        bpmn_presenter.$$('asq-diagram-q-presenter')._submissions = [
          {
            answeree: '1234314156',
            diagram: bmpnDiagram
          },
          {
            answeree: '1234314223',
            diagram: bmpnDiagram
          },
          {
            answeree: '1234314324',
            diagram: bmpnDiagram
          },
          {
            answeree: '1234314571',
            diagram: bmpnDiagram
          },
          {
            answeree: '1234314987',
            diagram: bmpnDiagram
          }
        ];


        /* UML */
        var uml_viewer = document.getElementById('uml-demo-viewer');
        var uml_presenter = document.getElementById('uml-demo-presenter');
        uml_viewer.value = umlDiagram;
        uml_presenter.$$('asq-diagram-q-presenter')._submissions = [
          {
            answeree: '1234314156',
            diagram: umlDiagram
          },
          {
            answeree: '1234314223',
            diagram: umlDiagram2
          },
          {
            answeree: '1234314324',
            diagram: umlDiagram
          },
          {
            answeree: '1234314571',
            diagram: umlDiagram2
          },
          {
            answeree: '1234314987',
            diagram: umlDiagram
          }
        ];


        /* ERD */
        var erd_viewer = document.getElementById('erd-demo-viewer');
        var erd_presenter = document.getElementById('erd-demo-presenter');
        erd_viewer.value = erdDiagram;
        erd_presenter.$$('asq-diagram-q-presenter')._submissions = [
          {
            answeree: '1234314156',
            diagram: erdDiagram
          },
          {
            answeree: '1234314223',
            diagram: erdDiagram
          },
          {
            answeree: '1234314324',
            diagram: erdDiagram
          },
          {
            answeree: '1234314571',
            diagram: erdDiagram
          },
          {
            answeree: '1234314987',
            diagram: erdDiagram
          }
        ];
      });
    </script>


  </body>
</html>