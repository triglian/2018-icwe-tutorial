<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>ICWE2018 - ASQ tutorial | Web Mini Lecture</title>
    

    <script src="/webcomponentsjs/webcomponents-lite.js"></script> 
<!--     <script src="http://asq.inf.usi.ch/element-docs/webcomponentsjs/webcomponents-lite.js"></script>  -->
    <!-- Use shadow dom -->
    <script>
      window.Polymer = window.Polymer || {};
      window.Polymer.dom = 'shadow';
    </script>
    <link rel="import" href="/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="/asq-elements/asq-elements.html">

    
<!--     <link rel="import" href="http://asq.inf.usi.ch/element-docs/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="http://asq.inf.usi.ch/element-docs/asq-elements/asq-elements.html"> -->
   


    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <!-- <link rel="stylesheet" href="reveal.js/css/print/pdf.css"> -->
    <link rel="stylesheet" href="reveal.js/css/theme/asq.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">   

    <link rel="import" href="shared-styles.html">
    <style is="custom-style" include="shared-styles"></style> 

  </head>

  <body data-asq-role="viewer">
    <asq-settings max-num-submissions="-1" slideflow="ctrl" assessment="none"></asq-settings>

    <img id="icwe-logo" src="img/logo-icwe.png" alt="ICWE 2018 logo" style="width: 100px;">

    <a id="asq-logo-fixed" href="http://asq.inf.usi.ch/" target="_blank">
      <img  src="img/ASQLogoBlack.png" alt="ASQ logo" style="width: 100px;">
    </a>
      


    <div class="reveal">

      <div id="joinasqmsg">Join: <a class="bold" href="http://bit.do/icwe18">http://bit.do/icwe18</a></div>

      <!-- Any section element inside of this container is displayed as a slide -->

      <div class="slides">
        <section id="splash">

          <div class="asq-logo">
            <img class="anim a" src="svg/a.svg">
            <img class="anim backfacing a" src="svg/a.svg">
            <img class="anim s" src="svg/s.svg">
            <img class="anim backfacing s" src="svg/s.svg">
            <img class="anim q" src="svg/q.svg">
            <img class="anim backfacing q" src="svg/q.svg">
          </div>

          <h2 id="presentationTitle" class="pastel-blue">Web Mini Lecture</h2>
          <asq-welcome join-message="Join: http://bit.do/icwe18"></asq-welcome>
        </section>
        
       <section id="meta">
            <h1>Outline</h1>
            <p>Interactive CSS</p>
    <p>CSS Flexbox</p>
    <p>JavaScript functions</p>
       </section>


<section id="css-main">

  <section id="asq-fiddle1">

<asq-exercise>
  <asq-fiddle-q editor-font-size="0.5em" contenteditable>
      <asq-stem>Make the input react to the mouse and smoothly grow its size when it gets focus</asq-stem>
      <template seed>
        <pre html><input type="text"
         placeholder="&#x1F50D;"></pre>
        <pre css>input {
    font-size: 2em;
    width: 10em;
}</pre>
        <pre js></pre>
      </template> 
    </asq-fiddle-q>
  </asq-exercise>

  </section>

  <section id="pseudo">
     <h2>CSS Pseudo-Classes</h2>
  
  <p class="small">Pseudo-classes are used to apply rules based on the dynamic state of the selected elements</p>
  
  <pre><code class="css">a         { text-decoration: underline; }
a:link    { color: blue; } 
a:visited { color: purple; }
a:hover   { text-decoration: none; }
a:active  { color: red; }</code></pre>
<p class="small">Change the appearance of a link element</p>
<div class="substep">
<pre><code>input:focus   { background-color: yellow; }
input:checked { font-weight: bold; }
input:invalid { background-color: red;  }</code></pre>
<p class="small">Change the appearance of an input element</p></div>
  </section>

  <section id="transition">
    <h2>CSS Transitions</h2>
  <p>Declaratively smooth the transition between changes in the formatting of any page element (no need of JavaScript for animations)</p>
  <pre style="margin-bottom:50px"><code>#box { 
  transition-property: background-color, width;
  transition-delay: 1s;
}</code></pre>

<div style="width:100%; text-align: center">
<div class="ts-box">
  <code>0s</code>
</div>
<div class="ts-box" style="-webkit-transition: background-color 2s, width 1s; -moz-transition: background-color 1s;">
  <code>2s</code>
</div>
</div>
  </section>

  <section id="flexbox">

    <h2>Flexible Layout</h2>
  <div class="flex-box-container" style="align-items: bottom; background: rgb(0, 67, 148);">
    <div class="flex-box"><code class="small">1</code></div>
    <div class="flex-box" style="flex: 2"><code class="small">2</code></div>
    <div class="flex-box"><code class="small">1</code></div>
    <div class="flex-box" style="flex: 3"><code class="small">3</code></div>
    <div class="flex-box"><code class="small">1</code></div>
  </div>
  <pre><code style="background: rgb(0, 67, 148); color: white">display: flex</code></pre>
<p class="small">Apply the flexbox mode to the content.</p>
<pre><code style="background: rgb(100, 167, 248); color: black">flex: n</code></pre>
<p class="small">Grow the content proportionally</p>
<!--<div class="substep">
<pre><code style="background: rgb(100, 167, 148);">min-width: length</code></pre>
<p class="small">Also works with unflexible content</p>
</div>-->
<p class="ref substep"><a target="_blank" href="http://css-tricks.com/snippets/css/a-guide-to-flexbox/">http://css-tricks.com/snippets/css/a-guide-to-flexbox/</a></p>

  </section>

  <section id="flex-demo">

 <div class="flex-controls">
  <p class="small">Control the flex box container.</p>
  <pre><code style="background: rgb(0, 67, 148); color: white">flex-direction: </code><select onchange="setStyle(this,'flex-direction')">
    <option value="row">row</option>
    <option value="row-reverse">row-reverse</option>
    <option value="column">column</option>
    <option value="column-reverse">column-reverse</option>
</select></pre>
<pre><code style="background: rgb(0, 67, 148); color: white">flex-wrap: </code><select onchange="setStyle(this,'flex-wrap')">
    <option value="nowrap">nowrap</option>
    <option value="wrap">wrap</option>   
    <option value="wrap-reverse">wrap-reverse</option>
</select></pre>
<pre><code style="background: rgb(0, 67, 148); color: white">justify-content: </code><select onchange="setStyle(this,'justify-content')">
    <option value="flex-start">flex-start</option>
    <option value="flex-end">flex-end</option>
    <option value="center">center</option>
    <option value="space-around">space-around</option>
    <option value="space-between">space-between</option>
</select></pre>
<pre><code style="background: rgb(0, 67, 148); color: white">align-items: </code><select onchange="setStyle(this,'align-items')">
    <option value="stretch">stretch</option>
    <option value="flex-start">flex-start</option>
    <option value="flex-end">flex-end</option>
    <option value="center">center</option>
    <option value="baseline">baseline</option>
    
</select></pre>
<p class="small">Grow the content proportionally</p>
<pre style="background: rgb(100, 167, 248);"><select id="flex-demo-which" onchange="setFlexWhich(this)">
    <option value="all">all</option>
    <option value="1">[1]</option>
    <option value="2">[2]</option>
    <option value="3">[3]</option>
    <option value="4">[4]</option>
    <option value="5">[5]</option>
    <option value="6">[6]</option>   
    <option value="odd">[1,3,5]</option>
    <option value="even">[2,4,6]</option> 
</select> flex-grow: <select onchange="setFlex(this,'flex-grow')">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option> 
    <option value="3">3</option> 
    <option value="4">4</option>    
</select></pre>
</div>
<h2>Flexbox demo</h2>
<div class="flex-box-container">
    <div class="flex-box-demo"><code class="small">1</code></div>
    <div class="flex-box-demo"><code class="small">2</code></div>
    <div class="flex-box-demo"><code class="small">3</code></div>
    <div class="flex-box-demo"><code class="small">4</code></div>
    <div class="flex-box-demo"><code class="small">5</code></div>
    <div class="flex-box-demo"><code class="small">6</code></div>
  </div>



<script>function setStyle(e,s) {
   document.querySelectorAll('#flex-demo .flex-box-container')[0].style[s] = e.value;
}function setFlex(e,s) { 
  var which = document.getElementById('flex-demo-which').value;
  if (which == 'all') {
   document.querySelectorAll('#flex-demo .flex-box-demo').forEach(function(i){i.style[s] = e.value; });
  } else {
   document.querySelectorAll('#flex-demo .flex-box-demo:nth-child('+which+')').forEach(function(i){i.style[s] = e.value; });
  }
}function setFlexWhich(e) { 
   document.querySelectorAll('#flex-demo .flex-box-demo').forEach(function(i){i.style.backgroundColor = 'rgb(100, 167, 248)'; });
   if (e.value != 'all') {
     document.querySelectorAll('#flex-demo .flex-box-demo:nth-child('+e.value+')').forEach(function(i){i.style.backgroundColor = 'red'; });
   } 
}</script>


  </section>

  <section id="asq-fiddle2">

<asq-exercise>
  <asq-fiddle-q editor-font-size="0.5em" contenteditable>
      <asq-stem>Make the navigation bar fit on the left side of the main article content</asq-stem>
      <template seed>
        <pre html><header>Header</header>
<main>
<nav>Navigation bar</nav>
<article>Article Content<br/>
Content<br/>
Content<br/>
Content</article></main>
<footer>Footer</footer></pre>
        <pre css>header, nav, main, footer {border: 1px solid black; color: white}
header, footer {background: blue}
nav {background: green}
article {background: black}
main {background: red;}
        </pre>
        <pre js></pre>
      </template> 
    </asq-fiddle-q>
  </asq-exercise>

  </section>

</section>

<section id="js">

<section id="js-fn">

      <asq-exercise>
        <asq-js-function-body-q function-name="min(a,b)" test-exp="min(10,1);" contenteditable>
            <asq-stem>Implement a function that returns the minimum value of its two parameters:</asq-stem>
        </asq-js-function-body-q>
    </asq-exercise>

</section>

<section id="js-var">

    <h2>Variables</h2>
    <pre><code><b>var</b> g = 42; //global variable

function name(parameters) { 
  <b>var</b> x; //local variable (function scope)

<div class="substep">  if (parameters) {
    <b>let</b> y = 2; //local variable (block scope)
  }</div>
<div class="substep">  <b>const</b> c = "Constant"; //(block scope)
</div>
  return;
}</code></pre>

</section>

<section id="asq-js">

<asq-exercise>
        <asq-highlight-q theme="" mode="javascript" font-size="0.5em" contenteditable>
            <asq-solution>{ "428bca": [ { "start": { "row": 0, "column": 4 }, "end": { "row": 0, "column": 5 }, "id": 64 }, { "start": { "row": 5, "column": 2 }, "end": { "row": 5, "column": 3 }, "id": 68 } ], "d9534f": [ { "start": { "row": 4, "column": 6 }, "end": { "row": 4, "column": 7 }, "id": 72 } ] }
            </asq-solution>
            <asq-stem>What is the Scope of the variables?</asq-stem>
            <asq-hl-color-task color="d9534f" colorName="d9534f">Local Variable</asq-hl-color-task>
            <asq-hl-color-task color="428bca" colorName="428bca">Global Variable</asq-hl-color-task>
            <code>var a = 12;

function f(x,y) {
  
  var b = 42;
  c = 'String';
  
}</code>
        </asq-highlight-q>
    </asq-exercise>

  </section>

<section id="asq-passing">
  <h3>Parameter Passing: By Value</h3>
    <p>Primitive types (Numbers, Strings, Booleans)</p>
          <asq-js-eval-q value="var a = 1;
function tryInc(x) { 
  x++; 
  return x; 
}
" contenteditable>
            <asq-stem>Parameter Passing: By Value</asq-stem>
          </asq-js-eval-q>
</section>

<section id="asq-passing2">
          <asq-js-eval-q value="var a = [1];
function tryInc(x) { 
  x[0]++; 
  return x[0]; 
}
" contenteditable>
            <asq-stem>Array Parameter Passing: By Value or Reference?</asq-stem>
          </asq-js-eval-q>
</section>

<section id="passing2">
    <h3>Array/Object Parameter Passing</h3>
     <p class="small">References to arrays/objects are passed by value, <b>but</b> the referenced object/array is not copied</p>
     <div class="flex">
<pre><code>function tryInc(x) { 
  x[0]++; 
  return x[0]; 
}
var a = [1];
console.log(tryInc(a)); // 2
console.log(a); // [2]</code></pre>
<pre class="substep"><code>function but(x) { 
  x = [ x[0]+1 ]; 
  return x[0]; 
}
var a = [1];
console.log(but(a)); // 2
console.log(a); // [1]</code></pre>
</div>
<div class="flex">
<p class="small">The content of the array of the global variable <code>a</code> is changed by the function dereferencing <code>x[0]</code></p>
<p class="small substep">The content of the array <code>a</code> is not changed when the array reference <code>x</code> is re-assigned inside the function</p>
</section>


</section>




      </div>
    </div>
    <script src="reveal.js/lib/js/head.min.js"></script>
    <script src="reveal.js/js/reveal.js"></script>
    <script type="text/javascript">

function override(object, prop, replacer) { 
    var old = object[prop]; object[prop] = replacer(old);
}
function getZoom(element) {
   if (!element) return 1;
   return window.getComputedStyle(element).zoom * getZoom(element.parentElement);
}


function resizeAceEditors(){
  if(!Polymer || typeof Polymer !== 'function') return;

  var els = document.querySelectorAll('asq-fiddle-q');
  [].forEach.call(els, function(el){
    var roleEl = Polymer.dom(el.root).querySelector('asq-fiddle-q-' + el.role);
    if(!roleEl) return;

    var editors = ['html', 'js', 'css'];
    editors.forEach(function(editorId){

      override(roleEl.$[editorId].editor.renderer, "screenToTextCoordinates", function(old) {
          return function(x, y) {
              var zoom = getZoom(el);
              return old.call(this, x/zoom, y/zoom)
          }
      })
    })
  })

  var els = document.querySelectorAll('asq-highlight-q');
  [].forEach.call(els, function(el){
    var roleEl = Polymer.dom(el.root).querySelector('asq-highlight-q-' + el.role);
    if(!roleEl) return;

    override(roleEl.codeEditor.editor.renderer, "screenToTextCoordinates", function(old) {
        return function(x, y) {
            var zoom = getZoom(el);
            return old.call(this, x/zoom, y/zoom)
        }
    })
  })
}
      

Reveal.addEventListener( 'ready', function( event ) {
  document.body.classList.add("on-"+event.currentSlide.id);
  resizeAceEditors();
});

Reveal.addEventListener( 'slidechanged', function( event ) {
  if(event.previousSlide){
    document.body.classList.remove("on-"+event.previousSlide.id);
  }
  document.body.classList.add("on-"+event.currentSlide.id);
});

    </script>
    <script>

      setTimeout(function(){
        try{
          document.querySelector("#asq-fiddle1 asq-fiddle-q").selectedPanes = ["css", "result"];
          document.querySelector("#asq-fiddle2 asq-fiddle-q").selectedPanes = ["css", "result"];

          

          Reveal.initialize({
            dependencies:[
              { src: 'reveal.js/plugin/notes/notes.js', async: true },
            ],
            pdfMaxPagesPerSlide: 1,
            history: true,
            loop: true,
          });
        }catch(err){
          console.log(err)
        }
      }, 500)
    </script>
  </body>
</html>
